#include <stdio.h>
#include <assert.h>
#include <string.h>
#include <stdlib.h>
#include "q5_6.h"

void test_add_in_base();

int main(){
    test_add_in_base();
    return 0;
}

void test_add_in_base(){
    printf("%s", "test_add_in_base ... ");

    char* str1 = add_in_base("1001", "0001", 2);
    assert(strcmp(str1, "01010") == 0);
    free(str1);

    char* str2 = add_in_base("001", "0001", 2);
    assert(strcmp(str2, "00010") == 0);
    free(str2);

    char* str3 = add_in_base("111010110110101101110101110100101010111001101011010", "10101001010110111010101", 2);
    assert(strcmp(str3, "0111010110110101101110101110111010100010000100101111") == 0);
    free(str3);

    char* str4 = add_in_base("11111111", "11111111", 2);
    assert(strcmp(str4, "111111110") == 0);
    free(str4);

    char* str5 = add_in_base("541515151651566894964", "9284984946494843842894198249834241982384", 10);
    assert(strcmp(str5, "09284984946494843843435713401485808877348") == 0);
    free(str5);

    char* str6 = add_in_base("9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999", "9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999", 10);
    assert(strcmp(str6, "19999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999998") == 0);
    free(str6);

    char* str7 = add_in_base("1010110101001010010101101011010100101001010101001010101010101010100000000000010101001011111111111010011111111111111111101010101001011111111111111111111000010110101010101010000000111010101011010100101001010101001010101010101010100000000000010101001011111111111010011111111111111111101010101001011111111111111111111000010110101010101010000000111010101011010100101001010101001010101010101010100000000000010101001011111111111010011111111111111111101010101001011111111111111111111000010110101010101010000000111010101011010100101001010101001010101010101010100000000000010101001011111111111010011111111111111111101010101001011111111111111111111000010110101010101010000000111010101011010100101001010101001010101010101010100000000000010101001011111111111010011111111111111111101010101001011111111111111111111000010110101010101010000000111010010010101010101010101000000000000101010010111111111110100111111111111111111010101010010010101110101101101011101111000111111111111111111000010110101010101010000000111010", "1010011010001010101010101101001010110110010101010101010111110111011101101110101010100000101100101110010101001101000101010101010110100101011011001010101010101011111011101110110111010101010000010110010111001010100110100010101010101011010010101101100101010101010101111101110111011011101010101000001011001011100101010011010001010101010101101001010110110010101010101010111110111011101101110101010100000101100101110010101001101000101010101010110100101011011001010101010101011111011101110110111010101010000010110010111001010100110100010101010101011010010101101100101010101010101111101110111011011101010101000001011001011100101010011010001010101010101101001010110110010101010101010111110111011101110100110100010101010101011010010101101100101010101010101111101110111011011101010101000001011001011100101010011010001010101010101101001010110110010101010101010111110111011101101110101010100000101100101110010101001101000101010101010110100101011011001010101010101011110010111011101101110101010100000101100101110010", 2);
    assert(strcmp(str7, "10101001111010101000000011000011111011111101010100000000010100001111101101110111111101100101100101000110101001101000101000000000000000101011011001010100011000010100110011000111000001111111011101011000000011111110001001101010101001011010011000010110001010101010000011101110111011011010101010001101011001011100101001011100111111111111111101010010001011101111111010100010100000110011000011111110100000101111010111110101001100011001010101010110100010110000010110101010101011111010110001101100101010100000011101101100100101001011101101010100000000101000000001100101010111111111011101110110101111101010101000001000100000110001010011010001010100011000011110101100000010110010000000011001100000111001001111110111111111111111010010110000001110110101010101010001110111011011100111111101010111001011100101010010010100001010101010111001011110000101000000000000010011111011101110011111101100000101011010110010101001100111111111111101001010100001000110110011001110011110010111011100110001011111110101111100110101100") == 0);
    free(str7);

    char* str8 = add_in_base("1111111111111111111111111111111", "1010011010001010101010101101001010110110010101010101010111110111011101101110101010100000101100101110010101001101000101010101010110100101011011001010101010101011111011101110110111010101010000010110010111001010100110100010101010101011010010101101100101010101010101111101110111011011101010101000001011001011100101010011010001010101010101101001010110110010101010101010111110111011101101110101010100000101100101110010101001101000101010101010110100101011011001010101010101011111011101110110111010101010000010110010111001010100110100010101010101011010010101101100101010101010101111101110111011011101010101000001011001011100101010011010001010101010101101001010110110010101010101010111110111011101110100110100010101010101011010010101101100101010101010101111101110111011011101010101000001011001011100101010011010001010101010101101001010110110010101010101010111110111011101101110101010100000101100101110010101001101000101010101010110100101011011001010101010101011110010111011101101110101010100000101100101110010", 2);
    assert(strcmp(str8, "01010011010001010101010101101001010110110010101010101010111110111011101101110101010100000101100101110010101001101000101010101010110100101011011001010101010101011111011101110110111010101010000010110010111001010100110100010101010101011010010101101100101010101010101111101110111011011101010101000001011001011100101010011010001010101010101101001010110110010101010101010111110111011101101110101010100000101100101110010101001101000101010101010110100101011011001010101010101011111011101110110111010101010000010110010111001010100110100010101010101011010010101101100101010101010101111101110111011011101010101000001011001011100101010011010001010101010101101001010110110010101010101010111110111011101110100110100010101010101011010010101101100101010101010101111101110111011011101010101000001011001011100101010011010001010101010101101001010110110010101010101010111110111011101101110101010100000101100101110010101001101000101010101010110100101011011001010101010101011110010111011101111110101010100000101100101110001") == 0);
    free(str8);

    char* str9 = add_in_base("2165421651461631421546134512461321654216416364136431521241634314514616314215461345124613216542164163641364315212416343145146163142154613451246132165421641636413643152124163431451461631421546134512461321654216416364136431521241634314514616314215461345124613216542164163641364315212416343145146163142154613451246132165421641636413643152124163431451461631421546134512461321654216416364136431521241634314514616314215461345124613216542164163642165421641636413643152124163431451461631421546134512461321654216416364136431521241634314514616314215461345124613216542164163641364315212416343145146163142154613451246132165421641636413643152124163431451461631421546134512461321654216416364136431521241634314514616314215461345124613216542164163641364315212416343145146163142154613451246132165421641636413643152124163431451461631421546134512461321654216416364136431521241634314514616314215461345124613216542164163641364315212416343145146163142154613451246132165421641635641136431521241634314514616314215461345124613", "645126412645164215463154164512463154164521464512641264516421546315416451246315416452146451264126451642154631541645124631541645214645126412645164215463154164512463154164521464512641264516421546315416451246315416452146451264126451642154631541645124631541645214645126412645164215463154164512463154164521464512641264516421546315416451246315416452146451264126451642154631541645124631541645214645126412645164215463154164512463154164521464512641264516421546315416451246315416452146451264126451642154631541645124631541645214645126412645164215463154164512641264516421546315416451246315416452146451264126451642154631541645124631541645214645126412645164215463154164512463154164521464512641264516421546315416451246315416452146451264126451642154631541645124631541645214645126412645164215463154164512463154164521464512641264516421546315416451246315416452146451246315416452146451264126451642154631541645124631541645214", 7);
    assert(strcmp(str9, "02165421651461631421546134512461321654216416364136431521241634314514616314215461345124613216542165142101110263406635136332344005635342111303043645140016461361263261601605443050201244111203143264264433506616061364522101303466456612444230564511434254532322426013026362015436210256510236065024464612623434232201031311650016101421356131113666141556413333606636524264225436516203012603561652225005436456112330560612035213224443333001121512613424345203236066165615340056035406606423503400064112642204300151435212551334244314426132136312432255513311100004231636323443512361146464664013502630121351104026561606211004143636620066126621346342656615646304603016365556362110041435466035113621611302536064066460104246060436503056455165060142323354342512431212530342661656326352435246062103463241363516032362633403512151233641413016005616454646253526164544326011410036220064030463113533011645542640406404040015661454335613032141222463565644421503333233425613445040361421120621025651023606502446461262343423220103130") == 0);
    free(str9);

    char* str10 = add_in_base("2165421651461631421546134512461321654216416364136431521241634314514616314215461345124613216542164163641364315212416343145146163142154613451246132165421641636413643152124163431451461631421546134512461321654216416364136431521241634314514616314215461345124613216542164163641364315212416343145146163142154613451246132165421641636413643152124163431451461631421546134512461321654216416364136431521241634314514616314215461345124613216542164163642165421641636413643152124163431451461631421546134512461321654216416364136431521241634314514616314215461345124613216542164163641364315212416343145146163142154613451246132165421641636413643152124163431451461631421546134512461321654216416364136431521241634314514616314215461345124613216542164163641364315212416343145146163142154613451246132165421641636413643152124163431451461631421546134512461321654216416364136431521241634314514616314215461345124613216542164163641364315212416343145146163142154613451246132165421641635641136431521241634314514616314215461345124613", "645126412645164215463154164512463154164521464512641264516421546315416451246315416452146451264126451642154631541645124631541645214645126412645164215463154164512463154164521464512641264516421546315416451246315416452146451264126451642154631541645124631541645214645126412645164215463154164512463154164521464512641264516421546315416451246315416452146451264126451642154631541645124631541645214645126412645164215463154164512463154164521464512641264516421546315416451246315416452146451264126451642154631541645124631541645214645126412645164215463154164512641264516421546315416451246315416452146451264126451642154631541645124631541645214645126412645164215463154164512463154164521464512641264516421546315416451246315416452146451264126451642154631541645124631541645214645126412645164215463154164512463154164521464512641264516421546315416451246315416452146451246315416452146451264126451642154631541645124631541645214", 8);
    assert(strcmp(str10, "02165421651461631421546134512461321654216416364136431521241634314514616314215461345124613216542165030767777162376634026321332675625331000172732645026706360260162160570575431747070134000073032263164323476505760263510770173366456501443127463500433144521311325701716350705326077156477134764713463601613423131067720300636705770310256020003666030556303223476636413263125326506071701572550651114675426356001227457600734103113442231670010501602314334073125765065505326755725276576313373266763001641074167040434101540323144204416021036201331155502177766673130635213432501260036463663702471617010337773716460576077674032636506765026510336341646605636174472706264556260776740325464734002610600172525762766356773145757326471756355063757031312254231501430101517331660646316341335135760773452140263404731261623372501050123630302705674606354636153416063543215700276736106762727362002531700635531637276372726705650354225601731040111462564634410472232123414603433737260310007607715647713476471346360161342313106772027") == 0);
    free(str10);

    char* str11 = add_in_base("768152756812245621736424512752168127818751246136412476217616275858886812761376815275681224562173642451275216812781875124613641247621761627585888681276136721070710107010701072168713621076815275681224562173642451275216812781875124613641247621761627585888681276136721070710107010701072168713621076815275681224562173642451275216812781875124613641247621761627585888681276136721070710107010701072168713621076815275681224562173642451275216812781875124613641247621761627585888681276136721070710107010701072168713621076815275681224562173642451275216812781875124613641247621761627585888681276136721070710107010701072168713621067210707101070107010721687136210", "768152756812245621736424512752168127818751246136412476217616275858886812761367210707101070107010721687136210768152756812245621736424512752168127818751246136412476217616275858886812761367210707101070107010721687136210768152756812245621736424512752168127818751246136412476217616275858886812761367210707101070107010721687136210", 9);
    assert(strcmp(str11, "0768152756812245621736424512752168127818751246136412476217616275858886812761376815275681224562173642451275216812781875124613641247621761627585888681276136721070710107010701072168713621076815275681224562173642451275216812781875124613641247621761627585888681276136721070710107010701072168713621076815275681224562173642451275217682044743036860363085146374480765127611137383857483286325627077042166626482455126083782304670184464248422427682044743036860363085146374480765127611137383857483286325627077042166626482455126083782304670184464248422427682044743036860363085146374480765127611137383857483286325627077042166626482445421515202150215021543485273420") == 0);
    free(str11);

    char* str12 = add_in_base("31231320132010321320130310210", "103120101213023232130210313201302103120103102", 4);
    assert(strcmp(str12, "0103120101213023330022131111212230023311013312") == 0);
    free(str12);

    char* str13 = add_in_base("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF", "FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF", 16);
    assert(strcmp(str13, "1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE") == 0);
    free(str13);

    char* str14 = add_in_base("ABCDEF123148751801985817295912841738AAAACCDDFDDDAEABCDEF123148751801985817295912841738AAAACCDDFDDDAEABCDEF123148751801985817295912841738AAAACCDDFDDDAEABCDEF123148751801985817295912841738AAAACCDDFDDDAEABCDEF123148751801985817295912841738AAAACCDDFDDDAEABCDEF123148751801985817295912841738AAAACCDDFDDDAE", "ABCABCFFDEEEF1545456224AB", 16);
    assert(strcmp(str14, "0ABCDEF123148751801985817295912841738AAAACCDDFDDDAEABCDEF123148751801985817295912841738AAAACCDDFDDDAEABCDEF123148751801985817295912841738AAAACCDDFDDDAEABCDEF123148751801985817295912841738AAAACCDDFDDDAEABCDEF123148751801985817295912841738AAAACCDDFDDDAEABCDEF1231487518019858173415BE54152799C01223600259") == 0);
    free(str14);

    char* str15 = add_in_base("9FFF6", "FFFF", 16);
    assert(strcmp(str15, "0AFFF5") == 0);
    free(str15);

    char* str16 = add_in_base("11111011", "1", 2);
    assert(strcmp(str16, "011111100") == 0);
    free(str16);

    char* str17 = add_in_base("11111111", "11", 2);
    assert(strcmp(str17, "100000010") == 0);
    free(str17);

    printf("%s", "OK\n");
    return;
}
